# 8.7 通道处理机 (Channel Processor)

> **学习重点**：通道的定义、三种通道类型的区别（选择题高频点）。

---

## 1. 基本概念

### 定义

*   **通道**：通道是一个具有**特殊功能的处理器**（CPU的"管家"）。
*   **层级结构**：CPU → 通道 → I/O子系统（控制器） → 外设。
*   **通道程序**：通道执行的程序，由**通道指令（CCW, Channel Command Word）**组成，存放在**主存**中。

### 通道的作用

*   通道可以独立执行通道程序，减轻CPU的负担
*   通道管理多个I/O设备，实现I/O操作的并行处理
*   通道是CPU与I/O设备之间的桥梁

---

## 2. 三种通道类型 (Types) —— **对比考点**

| 通道类型 | **字节多路通道** (Byte Multiplexer) | **选择通道** (Selector Channel) | **数组多路通道** (Block Multiplexer) |
| :--- | :--- | :--- | :--- |
| **连接设备** | **大量低速**设备 (键盘、打印机) | **高速**设备 (磁盘、磁带) | **多台高速**设备 |
| **工作方式** | **字节交叉** (Byte Interleaving) | **独占** (Burst Mode) | **块交叉** (Block Interleaving) |
| **原理** | 轮流为多个设备服务，每传一个字节换一个设备。 | 选中一个设备后，把它的数据**全部传完**，才服务下一个。 | 结合了前两者的优点：**宏观上并行**（同时服务多个），**微观上独占**（传一个数据块时独占）。 |
| **特点** | 共享通道，效率高，但不适合高速。 | 传输率高，但通道利用率低（等待寻道时通道空闲）。 | **现代主机主流方式**，效率最高。 |

---

## 3. 详细说明

### 3.1 字节多路通道 (Byte Multiplexer Channel)

#### 工作原理

*   通道按时间片轮流为多个设备服务
*   每个设备每次只传输一个字节
*   适合连接大量低速I/O设备

#### 特点

*   ✅ **优点**：可以同时管理多个设备，通道利用率高
*   ❌ **缺点**：每次只传一个字节，不适合高速设备

#### 应用场景

*   键盘、鼠标、打印机等低速设备
*   需要同时处理多个I/O请求的场景

### 3.2 选择通道 (Selector Channel)

#### 工作原理

*   通道一次只为一个设备服务
*   选中设备后，将该设备的所有数据全部传输完毕
*   传输完成后才切换到下一个设备

#### 特点

*   ✅ **优点**：传输率高，适合高速设备
*   ❌ **缺点**：通道利用率低（设备寻道、定位时通道空闲）

#### 应用场景

*   磁盘、磁带等高速存储设备
*   需要连续大量数据传输的场景

### 3.3 数组多路通道 (Block Multiplexer Channel)

#### 工作原理

*   结合了字节多路通道和选择通道的优点
*   **宏观上并行**：可以同时管理多个设备
*   **微观上独占**：传输一个数据块时，该设备独占通道

#### 特点

*   ✅ **优点**：
    *   通道利用率高（可以同时管理多个设备）
    *   传输率高（传输数据块时独占通道）
    *   适合现代高性能计算机系统
*   ✅ **现代主流**：这是现代主机采用的主要方式

#### 应用场景

*   多台高速存储设备（如多块磁盘）
*   需要高吞吐量的I/O系统

---

## 💡 学习要点

### 三种通道的对比记忆

```
速度要求：字节多路 < 数组多路 < 选择通道（单设备）
利用率：  选择通道 < 数组多路 < 字节多路
现代应用：数组多路通道是主流
```

### 考试重点

*   **必背**：三种通道类型的名称、特点、适用场景
*   **理解**：为什么数组多路通道是现代主流？
*   **应用**：能够根据题目描述判断应该使用哪种通道类型

### 易混淆点

*   **字节多路 vs 数组多路**：
    *   字节多路：每次传**一个字节**就切换
    *   数组多路：每次传**一个数据块**才切换
*   **选择通道 vs 数组多路**：
    *   选择通道：一次只服务**一个设备**
    *   数组多路：可以同时服务**多个设备**






