# 第6章 存储系统设计导读

本章是计算机组成原理中最具系统性的一章，主要探讨如何利用不同层级的存储介质，构建一个既快又大且便宜的存储系统。

## 核心逻辑梳理

1.  **矛盾现状**：
    *   用户希望：速度极快（像 CPU 寄存器）、容量极大（像硬盘）、价格极便宜。
    *   物理现实：速度快的容量小且贵；容量大的速度慢且便宜。

2.  **解决方案 —— 层次化结构 (Hierarchy)**：
    *   **Cache - 主存层次**：主要解决 **速度** 问题。利用程序访问的**局部性原理**，将最常用的数据放在速度接近 CPU 的 Cache 中。全程由**硬件**自动完成，对程序员透明。
    *   **主存 - 辅存层次 (虚拟存储)**：主要解决 **容量** 问题。利用硬盘空间模拟内存，让程序以为自己拥有很大的连续地址空间。主要由**操作系统+硬件**协同完成。

3.  **横向扩展 —— 并行存储**：
    *   在不改变存储介质的前提下，通过**交叉存取**（类似多车道通车）来提高主存的带宽。

## 学习路线图

*   **入门**：理解 $T_A$（平均访问时间）和命中率 $H$ 的关系。
*   **进阶**：掌握 Cache 的三种映射方式（全相联、直接、组相联）的地址变换逻辑。
*   **难点**：Cache 替换算法（LRU）的手动模拟，以及 TLB + 页表 + Cache + 主存的综合访存流程。

